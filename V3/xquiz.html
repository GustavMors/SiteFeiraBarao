<!DOCTYPE html>
<html lang="pt">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" id='stylesheet' href="csspage.css">
    <title>Quiz da 301</title>
    <link rel="icon" type="images/x-icon" href="assets/purplebook.png">
</head>

<body
    style="background-image: url(assets/basetop.png); background-size: cover; background-position: center center; height: 100%; ">
    <div id="Initial" class="container centermid column" style="height: 800px;">
        <a><img src="assets/pngwing.com.png" height="300px" width="350px"></a>
        <div class="container centermid column" style="background-color: white; border-radius: 25px; width: 80%;">
            <p style="font-size: 200%; font-weight: bold; margin-bottom: 2%; text-align: center;">Um divertido
                QUIZ<br>Te espera!</p>
            <p style="font-size: 140%; margin: 0%; text-align: center; font-weight: 450;">Teste seus conhecimentos
                com<br>base na apresentação!</p>
            <Button class="botaoicon" onclick="start()">⮞</Button>
        </div>

    </div>

    <div id="Question" class="container centermid center column" style="display: none; height: 800px;">
        <div class="container centermid center column"
            style="background-color: white; border-radius: 15px; height: 40%; margin: 8%;">
            <img src="assets//1f4da.png" width="auto" height="30%">
            <p id="pergunta" style="font-size: 180%; font-weight: 650; text-align: center; margin-top: 2%;"></p>
        </div>
        <div id="alternativas" class="container centermid column"></div>
    </div>

    <div id="Results" class="container centermid center column" style="display: none; height: 800px;">
        <div class="container column centermid center"
            style="background-color: white; border-radius: 15px; height: 40%; margin: 8%;">
            <p style="font-size: 240%; font-weight: bold; text-align: center;">Resultados:</p>
            <p id='FinalResult' style="font-size: 200%; font-weight: bold; text-align: center;"></p>
            <a class="botaoquestion" href="xquiz.html">Refazer quiz</a>
        </div>

    </div>
    <script>
        var Questions = [
            {
                question: "O que é uma onomatopeia?",
                alternatives: {
                    a: "Espécie de inseto",
                    b: "História emocionante",
                    c: "Figura de linguagem",
                    d: "Poema legal"
                },
                res: "c"
            },
            {
                question: "O que é uma oligarquia?",
                alternatives: {
                    a: "Tipo de governo",
                    b: "Casa da ganyu",
                    c: "Uma marca de café",
                    d: "Arma secreta"
                },
                res: "a"
            },
            {
                question: "\"Embora o Brasil tenha tudo para ser um país próspero, o povo não estava a sua altura\" Quem foi o autor da frase?",
                alternatives: {
                    a: "Monteiro Lobato",
                    b: "Miguel Colto",
                    c: "Freye",
                    d: "Florestan Fernandes"
                },
                res: "c"
            },
            {
                question: "1 + 1?",
                alternatives: {
                    a: "12",
                    b: "2",
                    c: "1",
                    d: "0"
                },
                res: "b"
            },
            {
                question: "\"País de mestiços onde o branco não tem força para organizar uma Ku Klux Klan é um país perdido[...]\" Quem foi o autor da frase?",
                alternatives: {
                    a: "Florestan Fernandes",
                    b: "Miguel Colto",
                    c: "Freye",
                    d: "Monteiro Lobato"
                },
                res: "d"
            },
            {
                question: "Qual a soma do número de carbonos de um anel benzênico?",
                alternatives: {
                    a: "4",
                    b: "12",
                    c: "6",
                    d: "8"
                },
                res: "c"
            },
            {
                question: "O que cai em pé e corre deitado",
                alternatives: {
                    a: "João de chinelo",
                    b: "Pingos de chuva",
                    c: "Asheley caindo da escada",
                    d: "Uma calha gigante"
                },
                res: "b"
            },

        ]

        function start() {
            push('Question', 'Initial');
            nextquestion()
        }

        function nextquestion() {
            document.getElementById('pergunta').innerHTML = '';
            document.getElementById('alternativas').innerHTML = '';
            var min, max, r, n, p;
            min = 0;
            max = Questions.length - 1;
            r = 1;
            for (let i = 0; i < r; i++) {
                do {
                    n = Math.floor(Math.random() * (max - min + 1)) + min;
                    p = repiter.includes(n);
                    if (!p) {
                        repiter.push(n);
                    }
                }
                while (p);
            }
            var ramdomquestion = Questions[n];
            document.getElementById('pergunta').innerHTML += ramdomquestion.question;
            document.getElementById('alternativas').innerHTML += `
            <Button class="botaoquestion" onclick='revise("${ramdomquestion.res}", "a")'>${ramdomquestion.alternatives.a}</Button>
            <Button class="botaoquestion" onclick='revise("${ramdomquestion.res}", "b")'>${ramdomquestion.alternatives.b}</Button>
            <Button class="botaoquestion" onclick='revise("${ramdomquestion.res}", "c")'>${ramdomquestion.alternatives.c}</Button>
            <Button class="botaoquestion" onclick='revise("${ramdomquestion.res}", "d")'>${ramdomquestion.alternatives.d}</Button>
            `
            numberquestion = numberquestion + 1;
        }

        function revise(correct, selected) {
            if (numberquestion <= 5) {
                if (correct == selected) {
                    acepts++;
                    console.log(acepts)
                    nextquestion();
                } else {
                    nextquestion();
                }
            } else {
                if (correct == selected) {
                    acepts++;
                    push('Results', 'Question')
                    document.getElementById('FinalResult').innerHTML = '';
                    document.getElementById('FinalResult').innerHTML += `${acepts * 20} Pontos de 100!`;
                } else {
                    push('Results', 'Question')
                    document.getElementById('FinalResult').innerHTML = '';
                    document.getElementById('FinalResult').innerHTML += `${acepts * 20} Pontos de 100!`;
                }
            }
        }

        function push(shown, hidden) {
            document.getElementById(shown).style.display = 'block';
            document.getElementById(hidden).style.display = 'none';
            return false;
        }

        let numberquestion = 1;
        let acepts = 0;
        var repiter = [];

    </script>
</body>

</html>